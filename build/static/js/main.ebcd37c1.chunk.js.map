{"version":3,"sources":["guest-list.jsx","Monogram.svg","web-invite-datelayoutdesign.svg","bg-left.svg","bg-right.svg","rsvp.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["GuestList","props","useState","guests","setGuests","codeGuest","setCodeGuest","codeString","setCodeString","viewCode","setViewCode","form","useRef","useEffect","getGuests","fetch","then","response","json","data","nullifyEmptyStrings","key","value","Fragment","className","ref","style","maxWidth","onSubmit","e","preventDefault","formData","FormData","current","formJson","JSON","stringify","Object","fromEntries","method","headers","body","status","alert","updatedList","push","required","name","placeholder","map","guest","linked_to","id","first_name","last_name","display_name","responded_at","attending","requirements","accomodation","onClick","generateCode","length","size","level","document","getElementById","toBlob","blob","saveAs","toUpperCase","Rsvp","token","useParams","sentIds","setSentIds","forms","Names","g1","g2","forEach","i","join","stringToBool","alt","src","designLeft","designRight","monogram","date","idList","handleSend","type","includes","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"gPAoMeA,MAhMf,SAAmBC,GACf,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAkCF,qBAAlC,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAoCJ,mBAAS,IAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAgCN,oBAAS,GAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KAEMC,EAAOC,iBAAO,MAEpBC,qBAAU,WACNC,MACD,IAEH,IAAMA,EAAY,WACdC,MAAM,qDACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIf,EAAUe,OAG1BC,EAAsB,SAACC,EAAKC,GAC9B,GAAc,KAAVA,EAGJ,OAAOA,GAmDX,OACI,eAAC,IAAMC,SAAP,WACI,wBAAQC,UAAU,MAAlB,SACI,oBAAIA,UAAU,oBAAd,0BAGJ,uBAAMC,IAAKd,EAAMa,UAAU,mBAAmBE,MAAO,CAAEC,SAAU,SAAWC,SAtDhE,SAACC,GACjBA,EAAEC,iBACF,IAAMC,EAAW,IAAIC,SAASrB,EAAKsB,SAC/BC,EAAWC,KAAKC,UAAUC,OAAOC,YAAYP,GAAWX,GAE5DL,MAAM,oDAAqD,CACvDwB,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMP,IAELlB,MAAK,SAAAC,GACF,OAAwB,MAApBA,EAASyB,QACTC,MAAM,6CACC,MAEJ1B,EAASC,UAEnBF,MAAK,SAAAG,GACF,GAAa,OAATA,EAAJ,CAGA,IAAMyB,EAAc,GACpBA,EAAYC,KAAZ,MAAAD,EAAW,YAASzC,GAAT,QAAiBgB,KAC5Bf,EAAUwC,QA+Bd,UACI,wBAAQpB,UAAU,4BAAlB,2BAGA,qBAAIA,UAAU,yBAAd,UACI,oBAAIA,UAAU,mCAAd,kBACA,oBAAIA,UAAU,yBAAd,SACI,uBAAOsB,UAAQ,EAACtB,UAAU,sCAAsCuB,KAAK,aAAaC,YAAY,iBAElG,oBAAIxB,UAAU,yBAAd,SACI,uBAAOsB,UAAQ,EAACtB,UAAU,sCAAsCuB,KAAK,YAAYC,YAAY,gBAEjG,oBAAIxB,UAAU,mCAAd,0BAGA,6BACI,uBAAOA,UAAU,sCAAsCuB,KAAK,mBAEhE,oBAAIvB,UAAU,mCAAd,uBAGA,6BACI,uBAAOA,UAAU,sCAAsCuB,KAAK,mBAGpE,wBAAQvB,UAAU,mFAAlB,qBAGJ,uBAAMA,UAAU,oBAAhB,UACI,wBAAOA,UAAU,gCAAjB,UACI,uBAAOA,UAAU,sCAAjB,SACI,+BACI,oBAAIA,UAAU,2BAAd,gBACA,oBAAIA,UAAU,sBAAd,uBACA,oBAAIA,UAAU,sBAAd,0BACA,oBAAIA,UAAU,sBAAd,uBACA,oBAAIA,UAAU,sBAAd,uBACA,oBAAIA,UAAU,sBAAd,0BACA,oBAAIA,UAAU,sBAAd,0BACA,oBAAIA,UAAU,mCAAd,qBACA,oBAAIA,UAAU,2BAGtB,gCACKrB,EAAO8C,KAAI,SAAAC,GAAK,OACb,+BACI,oBAAI1B,UAAU,0BAAd,SACyB,OAApB0B,EAAMC,WAAsBD,EAAME,KAEvC,qBAAI5B,UAAU,qBAAd,UACK0B,EAAMG,WADX,IACwBH,EAAMI,aAE9B,oBAAI9B,UAAU,qBAAd,SACK0B,EAAMK,eAEX,oBAAI/B,UAAU,oBAAd,SACK0B,EAAMC,YAEX,oBAAI3B,UAAU,qBAAd,SAC4B,OAAvB0B,EAAMM,aAAwB,GAC3BN,EAAMO,UAAY,MAAQ,OAGlC,oBAAIjC,UAAU,qBAAd,SACK0B,EAAMQ,eAEX,oBAAIlC,UAAU,qBAAd,SACK0B,EAAMS,cAAgB,aAE3B,oBAAInC,UAAU,kCAAd,SACI,wBAAQA,UAAU,gCAAgCoC,QAAS,kBAjGtE,SAACV,GAClB,IAAIE,EAAKF,EAAME,GACS,OAApBF,EAAMC,YACNC,EAAKF,EAAMC,WAEf3C,EAAc,+CAAD,OAAgD4C,IAC7D1C,GAAY,GACZJ,EAAa4C,GA0FgFW,CAAaX,IAA9E,oBAIJ,oBAAI1B,UAAU,uCAAd,SACI,wBAAQA,UAAU,gCAAlB,iCASD,IAAlBrB,EAAO2D,QACJ,qBAAKtC,UAAU,mCAAf,2CAMPf,GACG,0BAASe,UAAU,iDAAnB,UACI,wBAAQA,UAAU,4CAA4CoC,QAAS,kBAAMlD,GAAY,IAAzF,mBACA,sBAAKc,UAAU,aAAf,UACI,cAAC,IAAD,CACI4B,GAAG,cACH9B,MAAOf,EACPwD,KAAM,IACNC,MAAO,MAEX,uBAAOxC,UAAU,gBAAjB,SACI,wBAAQoC,QAvHX,WACjB,IAAIV,EAAQ7C,EACR+C,EAAKF,EAAME,GACS,OAApBF,EAAMC,YACNC,EAAKF,EAAMC,WAGFc,SAASC,eAAe,eAC9BC,QAAO,SAAAC,GAAI,OAAIC,iBAAOD,EAAD,aAAahB,EAAb,YAAmBF,EAAMI,UAAUgB,cAAnC,aA+GuB9C,UAAU,uFAAzC,kCCzLb,MAA0B,qCCA1B,MAA0B,wDCA1B,MAA0B,oCCA1B,MAA0B,qCC+J1B+C,MAxJf,SAActE,GACV,IAAMuE,EAAUC,cAAVD,MACN,EAA4BtE,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA8BF,mBAAS,IAAvC,mBAAOwE,EAAP,KAAgBC,EAAhB,KAEMC,EAAQhE,iBAAO,IAErBC,qBAAU,WACNC,MACD,IAEH,IAAMA,EAAY,WACdC,MAAM,mDAAD,OAAoDyD,IACpDxD,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIf,EAAUe,OAG1B0D,EAAQ,SAAC5E,GACX,IAAI8C,EAAO,GAUX,GARsB,IAAlB5C,EAAO2D,SACPf,EAAK,GAAK,cAGQ,IAAlB5C,EAAO2D,SACPf,EAAK,GAAK5C,EAAO,GAAGoD,cAAV,UAA6BpD,EAAO,GAAGkD,WAAvC,YAAqDlD,EAAO,GAAGmD,YAGvD,IAAlBnD,EAAO2D,OAAc,CACrB,IAAIgB,EAAK3E,EAAO,GAAGoD,cAAgBpD,EAAO,GAAGkD,YAAclD,EAAO,GAAGmD,YAAcnD,EAAO,GAAGmD,UAAY,GAAK,IAAMnD,EAAO,GAAGmD,WAC1HyB,EAAK5E,EAAO,GAAGoD,cAAV,UAA6BpD,EAAO,GAAGkD,WAAvC,YAAqDlD,EAAO,GAAGmD,WAExEP,EAAK,GAAK+B,EAAK,MAAQC,EAW3B,OARI5E,EAAO2D,OAAS,IAChBf,EAAO,GACP5C,EAAO6E,SAAQ,SAAC9B,EAAO+B,GACnBlC,EAAKkC,GAAK/B,EAAMK,cAAN,UAAyBL,EAAMG,WAA/B,YAA6CH,EAAMI,eAMjE,oBAAG9B,UAAU,qCAAb,UACI,sBAAMA,UAAU,UAAhB,kBACCuB,EAAKmC,KAAK,UAKjBC,EAAe,SAAC9D,EAAKC,GACvB,MAAc,SAAVA,GAGU,UAAVA,GAIGA,GAuBX,OACI,eAAC,IAAMC,SAAP,WACI,uBAAMC,UAAU,0EAAhB,UACI,qBAAK4D,IAAI,aAAaC,IAAKC,EAAY9D,UAAU,+CACjD,qBAAK4D,IAAI,qBAAqBC,IAAKE,EAAa/D,UAAU,gEAC1D,sBAAKA,UAAU,8BAAf,UACI,qBAAK4D,IAAI,iBAAiBC,IAAKG,EAAUhE,UAAU,mDACnD,yBAAQA,UAAU,yCAAlB,UACI,oBAAIA,UAAU,iBAAd,0DAGA,cAACqD,EAAD,IACA,mBAAGrD,UAAU,wBAAb,iDAIJ,qBAAK4D,IAAI,iCAAiCC,IAAKI,EAAMjE,UAAU,yDAC/D,mBAAGA,UAAU,mDAAb,4GAMR,yBAASA,UAAU,6DAAnB,SACKrB,EAAO8C,KAAI,SAACC,EAAO+B,GAAR,OACR,uBAAqBxD,IAAK,SAACA,GAAD,OAASmD,EAAM3C,QAAQY,KAAKpB,IAAMG,SAAU,SAAAC,GAAC,OA7CpE,SAACA,EAAGqB,EAAO+B,GAC1BpD,EAAEC,iBACF,IAAMC,EAAW,IAAIC,SAAS4C,EAAM3C,QAAQgD,IACxC/C,EAAWC,KAAKC,UAAUC,OAAOC,YAAYP,GAAWoD,GAE5DpE,MAAM,mDAAD,OAAoDmC,EAAME,IAAM,CACjEb,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMP,IACPlB,MAAK,SAAAC,GACJ,GAAwB,MAApBA,EAASyB,OAAb,CAIA,IAAIgD,EAAS,GACbA,EAAO7C,KAAP,MAAA6C,EAAM,YAAShB,GAAT,QAAkBxB,EAAME,MAC9BuB,EAAWe,OA6BwEC,CAAW9D,EAAGqB,EAAO+B,IAAIzD,UAAU,uBAA9G,UACI,qBAAIA,UAAU,wBAAd,UAAuC0B,EAAMG,WAA7C,IAA0DH,EAAMI,UAAhE,OACA,sBAAK9B,UAAU,qBAAf,UACI,sBAAKA,UAAU,yBAAf,UACI,mBAAGA,UAAU,uBAAb,6BACA,wBAAOA,UAAU,wBAAjB,UACI,uBAAOA,UAAU,OAAOoE,KAAK,QAAQ7C,KAAK,YAAYzB,MAAM,SADhE,SAIA,wBAAOE,UAAU,wBAAjB,UACI,uBAAOA,UAAU,OAAOoE,KAAK,QAAQ7C,KAAK,YAAYzB,MAAM,UADhE,WAMJ,sBAAKE,UAAU,yBAAf,UACI,mBAAGA,UAAU,uBAAb,0CACA,wBAAOA,UAAU,wBAAjB,UACI,uBAAOA,UAAU,OAAOoE,KAAK,QAAQ7C,KAAK,eAAezB,MAAM,SADnE,SAIA,wBAAOE,UAAU,wBAAjB,UACI,uBAAOA,UAAU,OAAOoE,KAAK,QAAQ7C,KAAK,eAAezB,MAAM,UADnE,WAMJ,sBAAKE,UAAU,mBAAf,UACI,uBAAOA,UAAU,uBAAjB,+DACA,0BAAUA,UAAU,iDAAiDuB,KAAK,uBAGlF,yBAAQvB,UAAU,OAAlB,UACI,wBAAQA,UAAU,oDAAlB,kBACCkD,EAAQmB,SAAS3C,EAAME,KACpB,sBAAM5B,UAAU,wBAAhB,wBAnCD0B,EAAME,aC7FtB0C,MAjBf,WACE,OACE,qBAAKtE,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuE,KAAK,eAAeC,UAAWzB,IAEtC,cAAC,IAAD,CAAOwB,KAAK,sBAAsBC,UAAWhG,IAG7C,cAAC,IAAD,CAAO+F,KAAK,IAAZ,qCCDOE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnF,MAAK,YAAkD,IAA/CoF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,MCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJ1C,SAASC,eAAe,SAM1B+B,M","file":"static/js/main.ebcd37c1.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\r\nimport QRCode from 'qrcode.react';\r\nimport { saveAs } from 'file-saver';\r\n\r\nfunction GuestList(props) {\r\n    const [guests, setGuests] = useState([]);\r\n    const [codeGuest, setCodeGuest] = useState()\r\n    const [codeString, setCodeString] = useState(\"\")\r\n    const [viewCode, setViewCode] = useState(false)\r\n\r\n    const form = useRef(null)\r\n\r\n    useEffect(() => {\r\n        getGuests()\r\n    }, []);\r\n\r\n    const getGuests = () => {\r\n        fetch(\"https://ashkev.peterboroughtenants.app/api/guests\")\r\n            .then(response => response.json())\r\n            .then(data => setGuests(data))\r\n    }\r\n\r\n    const nullifyEmptyStrings = (key, value) => {\r\n        if (value === '') {\r\n            return undefined\r\n        }\r\n        return value\r\n    }\r\n\r\n    const addNewGuest = (e) => {\r\n        e.preventDefault()\r\n        const formData = new FormData(form.current)\r\n        let formJson = JSON.stringify(Object.fromEntries(formData), nullifyEmptyStrings)\r\n\r\n        fetch('https://ashkev.peterboroughtenants.app/api/guests', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: formJson\r\n        })\r\n            .then(response => {\r\n                if (response.status !== 200) {\r\n                    alert('There was a problem adding the new guest.')\r\n                    return null\r\n                }\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                if (data === null) {\r\n                    return\r\n                }\r\n                const updatedList = []\r\n                updatedList.push(...guests, data)\r\n                setGuests(updatedList)\r\n            })\r\n    }\r\n\r\n    const generateCode = (guest) => {\r\n        let id = guest.id\r\n        if (guest.linked_to !== null) {\r\n            id = guest.linked_to\r\n        }\r\n        setCodeString(`https://ashkev.peterboroughtenants.app/rsvp/${id}`)\r\n        setViewCode(true)\r\n        setCodeGuest(guest)\r\n    }\r\n\r\n    const downloadCode = () => {\r\n        let guest = codeGuest\r\n        let id = guest.id\r\n        if (guest.linked_to !== null) {\r\n            id = guest.linked_to\r\n        }\r\n\r\n        let canvas = document.getElementById(\"the-qr-code\")\r\n        canvas.toBlob(blob => saveAs(blob, `QR_${id}_${guest.last_name.toUpperCase()}.png`))\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <header className=\"p-6\">\r\n                <h1 className=\"font-bold text-xl\">Guest List</h1>\r\n            </header>\r\n\r\n            <form ref={form} className=\"p-6 print:hidden\" style={{ maxWidth: '550px' }} onSubmit={addNewGuest}>\r\n                <header className=\"mb-3 border-b pb-2 w-full\">\r\n                    Add new guest\r\n                </header>\r\n                <dl className=\"grid grid-cols-2 gap-3\">\r\n                    <dt className=\"font-bold col-start-1 col-span-1\">Name</dt>\r\n                    <dd className=\"col-start-2 col-span-1\">\r\n                        <input required className=\"w-full border shadow-inner p-2 mx-1\" name=\"first_name\" placeholder=\"First Name\" />\r\n                    </dd>\r\n                    <dd className=\"col-start-2 col-span-1\">\r\n                        <input required className=\"w-full border shadow-inner p-2 mx-1\" name=\"last_name\" placeholder=\"Last Name\" />\r\n                    </dd>\r\n                    <dt className=\"font-bold col-start-1 col-span-1\">\r\n                        Display Name\r\n                    </dt>\r\n                    <dd>\r\n                        <input className=\"w-full border shadow-inner p-2 mx-1\" name=\"display_name\" />\r\n                    </dd>\r\n                    <dt className=\"font-bold col-start-1 col-span-1\">\r\n                        Parent ID\r\n                    </dt>\r\n                    <dd>\r\n                        <input className=\"w-full border shadow-inner p-2 mx-1\" name=\"linked_to\" />\r\n                    </dd>\r\n                </dl>\r\n                <button className=\"border-b-2 border-blue-400 bg-blue-200 text-blue-900 py-1 hover:bg-blue-100 px-3\">Save</button>\r\n            </form>\r\n\r\n            <main className=\"overflow-y-hidden\">\r\n                <table className=\"w-full overflow-y-scroll pr-3\">\r\n                    <thead className=\"border-b-2 top-0 sticky bg-gray-100\">\r\n                        <tr>\r\n                            <th className=\"py-3 px-3 text-left pl-6\">Id</th>\r\n                            <th className=\"py-3 px-3 text-left\">Full Name</th>\r\n                            <th className=\"py-3 px-3 text-left\">Display Name</th>\r\n                            <th className=\"py-3 px-3 text-left\">Parent ID</th>\r\n                            <th className=\"py-3 px-3 text-left\">Attending</th>\r\n                            <th className=\"py-3 px-3 text-left\">Requirements</th>\r\n                            <th className=\"py-3 px-3 text-left\">Accomodation</th>\r\n                            <th className=\"py-3 px-3 text-left print:hidden\">QR Code</th>\r\n                            <th className=\"print:hidden pr-6\"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {guests.map(guest => (\r\n                            <tr>\r\n                                <td className=\"py-2 px-3 pl-6 border-b\">\r\n                                    {guest.linked_to === null && guest.id}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b\">\r\n                                    {guest.first_name} {guest.last_name}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b\">\r\n                                    {guest.display_name}\r\n                                </td>\r\n                                <td className=\"py- px-3 border-b\">\r\n                                    {guest.linked_to}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b\">\r\n                                    {guest.responded_at === null ? \"\" : (\r\n                                        guest.attending ? \"YES\" : \"NO\"\r\n                                    )}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b\">\r\n                                    {guest.requirements}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b\">\r\n                                    {guest.accomodation && \"Required\"}\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b print:hidden\">\r\n                                    <button className=\"underline hover:text-blue-700\" onClick={() => generateCode(guest)}>\r\n                                        View\r\n                                    </button>\r\n                                </td>\r\n                                <td className=\"py-2 px-3 border-b print:hidden pr-6\">\r\n                                    <button className=\"underline hover:text-blue-700\">\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {guests.length === 0 && (\r\n                    <div className=\"p-6 my-6 bg-gray-200 text-center\">\r\n                        There are no guests added.\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {viewCode && (\r\n                <section className=\"sticky bottom-0 w-full bg-white p-6 border-t-2\">\r\n                    <button className=\"underline hover:text-blue-700 float-right\" onClick={() => setViewCode(false)}>Close</button>\r\n                    <div className=\"flex gap-6\">\r\n                        <QRCode\r\n                            id=\"the-qr-code\"\r\n                            value={codeString}\r\n                            size={200}\r\n                            level={\"M\"}\r\n                        />\r\n                        <aside className=\"pl-6 border-l\">\r\n                            <button onClick={downloadCode} className=\"border-b-2 border-green-400 bg-green-200 text-green-900 py-1 hover:bg-green-100 px-3\">\r\n                                Download\r\n                            </button>\r\n                        </aside>\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default GuestList","export default __webpack_public_path__ + \"static/media/Monogram.b03ad541.svg\";","export default __webpack_public_path__ + \"static/media/web-invite-datelayoutdesign.c8265ef0.svg\";","export default __webpack_public_path__ + \"static/media/bg-left.fb7462c6.svg\";","export default __webpack_public_path__ + \"static/media/bg-right.e2002390.svg\";","import React, { useState, useEffect, useRef, createRef } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport monogram from './Monogram.svg'\r\nimport date from './web-invite-datelayoutdesign.svg'\r\nimport designLeft from './bg-left.svg'\r\nimport designRight from './bg-right.svg'\r\n\r\nfunction Rsvp(props) {\r\n    let { token } = useParams();\r\n    const [guests, setGuests] = useState([])\r\n    const [sentIds, setSentIds] = useState([])\r\n\r\n    const forms = useRef([])\r\n\r\n    useEffect(() => {\r\n        getGuests()\r\n    }, []);\r\n\r\n    const getGuests = () => {\r\n        fetch(`https://ashkev.peterboroughtenants.app/api/rsvp/${token}`)\r\n            .then(response => response.json())\r\n            .then(data => setGuests(data))\r\n    }\r\n\r\n    const Names = (props) => {\r\n        let name = [];\r\n\r\n        if (guests.length === 0) {\r\n            name[0] = \"Loading...\"\r\n        }\r\n\r\n        if (guests.length === 1) {\r\n            name[0] = guests[0].display_name || `${guests[0].first_name} ${guests[0].last_name}`\r\n        }\r\n\r\n        if (guests.length === 2) {\r\n            let g1 = guests[0].display_name || guests[0].first_name + (guests[0].last_name === guests[1].last_name ? '' : ' ' + guests[0].last_name)\r\n            let g2 = guests[1].display_name || `${guests[1].first_name} ${guests[1].last_name}`\r\n\r\n            name[0] = g1 + ' & ' + g2\r\n        }\r\n\r\n        if (guests.length > 2) {\r\n            name = []\r\n            guests.forEach((guest, i) => {\r\n                name[i] = guest.display_name || `${guest.first_name} ${guest.last_name}`\r\n            })\r\n\r\n        }\r\n\r\n        return (\r\n            <p className=\"font-bold my-6 text-2xl capitalize\">\r\n                <span className=\"text-sm\">TO: </span>\r\n                {name.join(\", \")}\r\n            </p>\r\n        )\r\n    }\r\n\r\n    const stringToBool = (key, value) => {\r\n        if (value === \"true\") {\r\n            return true\r\n        }\r\n        if (value === \"false\") {\r\n            return false\r\n        }\r\n\r\n        return value\r\n    }\r\n\r\n    const handleSend = (e, guest, i) => {\r\n        e.preventDefault()\r\n        const formData = new FormData(forms.current[i])\r\n        let formJson = JSON.stringify(Object.fromEntries(formData), stringToBool)\r\n\r\n        fetch(`https://ashkev.peterboroughtenants.app/api/rsvp/${guest.id}`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: formJson\r\n        }).then(response => {\r\n            if (response.status !== 200 ) {\r\n                return\r\n            }\r\n\r\n            let idList = []\r\n            idList.push(...sentIds, guest.id) \r\n            setSentIds(idList)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <main className=\"grid grid-cols-1 grid-rows-1 border-fat border-gold max-w-prose mx-auto\">\r\n                <img alt=\"Grey whirl\" src={designLeft} className=\"col-span-full row-span-full w-1/2 self-end\" />\r\n                <img alt=\"Another grey whirl\" src={designRight} className=\"col-span-full row-span-full w-1/2 self-end justify-self-end\" />\r\n                <div className=\"col-span-full row-span-full\">\r\n                    <img alt=\"Ashley & Kevin\" src={monogram} className=\"w-full object-cover object-center h-auto mb-12\" />\r\n                    <header className=\"font-serif text-center px-8 mt-12 mb-6\">\r\n                        <h1 className=\"uppercase my-6\">\r\n                            The marriage of Ashley Beech & Kevin Goodger\r\n                        </h1>\r\n                        <Names />\r\n                        <p className=\"text-gray-600 text-sm\">\r\n                            Please RSVP using the form below\r\n                        </p>\r\n                    </header>\r\n                    <img alt=\"Saturday 30th July 2022 at 2PM\" src={date} className=\"w-full object-contain object-center h-auto px-8 mb-6\" />\r\n                    <p className=\"font-serif text-center uppercase px-6 mx-6 mb-10\">\r\n                        We would like to request the pleasure of your company to join us\r\n                        in celebrating our love\r\n                    </p>\r\n                </div>\r\n            </main>\r\n            <section className=\"border-fat border-gold max-w-prose mx-auto border-t-0 pt-6\">\r\n                {guests.map((guest, i) => (\r\n                    <form key={guest.id} ref={(ref) => forms.current.push(ref)} onSubmit={e => handleSend(e, guest, i)} className=\"px-6 mb-6 font-serif\">\r\n                        <h2 className=\"text-center underline\">{guest.first_name} {guest.last_name}:</h2>\r\n                        <div className=\"md:flex gap-3 my-3\">\r\n                            <div className=\"p-2 divide-solid w-1/3\">\r\n                                <p className=\"font-bold md:text-xs\">Can you attend?</p>\r\n                                <label className=\"md:text-xs block my-2\">\r\n                                    <input className=\"mr-2\" type=\"radio\" name=\"attending\" value=\"true\" />\r\n                                    Yes\r\n                                </label>\r\n                                <label className=\"md:text-xs block my-2\">\r\n                                    <input className=\"mr-2\" type=\"radio\" name=\"attending\" value=\"false\" />\r\n                                    No\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"p-2 divide-solid w-1/3\">\r\n                                <p className=\"font-bold md:text-xs\">Do you require accomodation?</p>\r\n                                <label className=\"md:text-xs block my-2\">\r\n                                    <input className=\"mr-2\" type=\"radio\" name=\"accomodation\" value=\"true\" />\r\n                                    Yes\r\n                                </label>\r\n                                <label className=\"md:text-xs block my-2\">\r\n                                    <input className=\"mr-2\" type=\"radio\" name=\"accomodation\" value=\"false\" />\r\n                                    No\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"p-2 divide-solid\">\r\n                                <label className=\"font-bold md:text-xs\">Do you have any other requirements (e.g. dietary)</label>\r\n                                <textarea className=\"my-2 p-1 md:text-xs w-full border shadow-inner\" name=\"requirements\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <footer className=\"flex\">\r\n                            <button className=\"p-2 bg-gray-200 hover:bg-gray-900 hover:text-gold\">Send</button>\r\n                            {sentIds.includes(guest.id) && (\r\n                                <span className=\"p-2 bg-green-200 mx-3\">Saved</span>\r\n                            )}\r\n                        </footer>\r\n                    </form>\r\n                ))}\r\n            </section>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Rsvp","import { Route, Switch } from 'react-router-dom'\nimport GuestList from './guest-list'\nimport Rsvp from './rsvp'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/rsvp/:token\" component={Rsvp} />\n\n        <Route path=\"/guests/secret-link\" component={GuestList} />\n\n        \n        <Route path=\"/\">\n          404: Invalid page\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}